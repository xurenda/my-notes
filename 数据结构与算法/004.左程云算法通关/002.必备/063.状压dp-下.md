---
date: 2023-12-29 13:46
modified: 2023-12-29 13:51
---

>前置知识：[[003.二进制和位运算|讲解003]]、[[012.异或运算的骚操作|讲解030]]、[[013.位运算的骚操作|讲解031]]、[[014.位图|讲解032]]、[[015.位运算实现加减乘除|讲解033]] 位运算基础、[[025.根据数据量猜解法的技巧-天字第一号重要技巧|根据数据量猜解法]]、[[045.双向广搜|双向广搜]]、[[049.从递归入手二维动态规划|从递归入手二维动态规划]]、[[062.状压dp-上|状压dp-上]]

[[062.状压dp-上|上节课]] 讲述了状压 dp 的原理和一些经典题目

本节课继续讲述 4 个状压 dp 问题，以及重要技巧：如何在位状态上，枚举所有子集的状态（题目4）

# 题目1.每个人戴不同帽子的方案数

## 题目描述

总共有 `n` 个人和 `40` 种不同的帽子，帽子编号从 `1` 到 `40` 。

给你一个整数列表的列表 `hats` ，其中 `hats[i]` 是第 `i` 个人所有喜欢帽子的列表。

请你给每个人安排一顶他喜欢的帽子，确保每个人戴的帽子跟别人都不一样，并返回方案数。

由于答案可能很大，请返回它对 `10^9 + 7` 取余后的结果。

提示：

- `n == hats.length`
- `1 <= n <= 10`
- `1 <= hats[i].length <= 40`
- `1 <= hats[i][j] <= 40`
- `hats[i]` 包含一个数字互不相同的整数列表。

## 测试链接

[1434.每个人戴不同帽子的方案数](https://leetcode.cn/problems/number-of-ways-to-wear-different-hats-to-each-other/)

## 思路

看数据量：帽子数量是 40，人数是 10，所以要用人做 `status` 位信息，[[062.状压dp-上#数据量说明|状压 dp 数据量说明]]

## 答案

## 复杂度
