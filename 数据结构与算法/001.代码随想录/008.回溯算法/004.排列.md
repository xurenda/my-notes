---
date: 2023-11-01 15:50
modified: 2023-12-22 17:53
---

- 46.全排列
	- [[#全排列|全排列]]
	- [[004.排列#全排列 - 不用 `path`|不用 path]]
- 47.全排列 II

# 全排列

```go
var (
	ans [][]int
	path []int
	used []bool
	theNums []int
)

func permute(nums []int) [][]int {
	ans = [][]int{}
	path = make([]int, 0, len(nums))
	used = make([]bool, len(nums))
	theNums = nums

	backtracking()

	return ans
}

func backtracking() {
	if len(path) == len(theNums) {
		tmp := make([]int, len(path))
		copy(tmp, path)
		ans = append(ans, tmp)
		return
	}

	for i, num := range theNums {
		if used[i] {
			continue
		}
		path = append(path, num)
		used[i] = true
		backtracking()
		used[i] = false
		path = path[:len(path) - 1]
	}
}
```

# 全排列 - 不用 `path`

```go
var (
	ans     [][]int
	theNums []int
	n       int
)

func permute(nums []int) [][]int {
	ans = [][]int{}
	theNums = nums
	n = len(nums)

	backtracking(0)

	return ans
}

func backtracking(idx int) {
	if idx == n {
		tmp := make([]int, n)
		copy(tmp, theNums)
		ans = append(ans, tmp)
		return
	}

	for i := idx; i < n; i++ {
		swap(i, idx)
		backtracking(idx + 1)
		swap(i, idx)
	}
}

func swap(i, j int) {
	theNums[i], theNums[j] = theNums[j], theNums[i]
}
```
